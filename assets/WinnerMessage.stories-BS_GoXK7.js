import{R as u}from"./index-B-SYruCi.js";import{I as Y}from"./image-BsBPtjSv.js";import{j as b}from"./jsx-runtime-BnHmloXs.js";import{p as C}from"./prefix-BsaTsj2U.js";import"./use-merged-ref-B6IZN_wr.js";import"./jsx-runtime-BEh3FTX5.js";import"./index-C-aVi5AG.js";var I,E;function G(){if(E)return I;E=1;var o={linear:function(e,t,i,r){var n=i-t;return n*e/r+t},easeInQuad:function(e,t,i,r){var n=i-t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,i,r){var n=i-t;return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,i,r){var n=i-t;return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,r){var n=i-t;return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,i,r){var n=i-t;return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,r){var n=i-t;return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,r){var n=i-t;return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,i,r){var n=i-t;return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,r){var n=i-t;return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,r){var n=i-t;return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,i,r){var n=i-t;return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,r){var n=i-t;return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,r){var n=i-t;return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,i,r){var n=i-t;return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,i,r){var n=i-t;return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,i,r){var n=i-t;return e==0?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,i,r){var n=i-t;return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,i,r){var n=i-t;return e===0?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,r){var n=i-t;return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,i,r){var n=i-t;return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,i,r){var n=i-t;return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,r){var n=i-t,a,s,c;return c=1.70158,s=0,a=n,e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),a<Math.abs(n)?(a=n,c=s/4):c=s/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/s))+t)},easeOutElastic:function(e,t,i,r){var n=i-t,a,s,c;return c=1.70158,s=0,a=n,e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),a<Math.abs(n)?(a=n,c=s/4):c=s/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((e*r-c)*(2*Math.PI)/s)+n+t)},easeInOutElastic:function(e,t,i,r){var n=i-t,a,s,c;return c=1.70158,s=0,a=n,e===0?t:(e/=r/2)===2?t+n:(s||(s=r*(.3*1.5)),a<Math.abs(n)?(a=n,c=s/4):c=s/(2*Math.PI)*Math.asin(n/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/s))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/s)*.5+n+t)},easeInBack:function(e,t,i,r,n){var a=i-t;return n===void 0&&(n=1.70158),a*(e/=r)*e*((n+1)*e-n)+t},easeOutBack:function(e,t,i,r,n){var a=i-t;return n===void 0&&(n=1.70158),a*((e=e/r-1)*e*((n+1)*e+n)+1)+t},easeInOutBack:function(e,t,i,r,n){var a=i-t;return n===void 0&&(n=1.70158),(e/=r/2)<1?a/2*(e*e*(((n*=1.525)+1)*e-n))+t:a/2*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)+t},easeInBounce:function(e,t,i,r){var n=i-t,a;return a=o.easeOutBounce(r-e,0,n,r),n-a+t},easeOutBounce:function(e,t,i,r){var n=i-t;return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,r){var n=i-t,a;return e<r/2?(a=o.easeInBounce(e*2,0,n,r),a*.5+t):(a=o.easeOutBounce(e*2-r,0,n,r),a*.5+n*.5+t)}};return I=o,I}var V=G();function X(o){return o*Math.PI/180}function l(o,e){return o+Math.random()*(e-o)}function $(o,e){return Math.floor(o+Math.random()*(e-o+1))}var g;(function(o){o[o.Circle=0]="Circle",o[o.Square=1]="Square",o[o.Strip=2]="Strip"})(g||(g={}));var f;(function(o){o[o.Positive=1]="Positive",o[o.Negative=-1]="Negative"})(f||(f={}));class z{constructor(e,t,i,r){this.getOptions=t;const{colors:n,initialVelocityX:a,initialVelocityY:s}=this.getOptions();this.context=e,this.x=i,this.y=r,this.w=l(5,20),this.h=l(5,20),this.radius=l(5,10),this.vx=typeof a=="number"?l(-a,a):l(a.min,a.max),this.vy=typeof s=="number"?l(-s,0):l(s.min,s.max),this.shape=$(0,2),this.angle=X(l(0,360)),this.angularSpin=l(-.2,.2),this.color=n[Math.floor(Math.random()*n.length)],this.rotateY=l(0,1),this.rotationDirection=l(0,1)?f.Positive:f.Negative}update(){const{gravity:e,wind:t,friction:i,opacity:r,drawShape:n}=this.getOptions();this.x+=this.vx,this.y+=this.vy,this.vy+=e,this.vx+=t,this.vx*=i,this.vy*=i,this.rotateY>=1&&this.rotationDirection===f.Positive?this.rotationDirection=f.Negative:this.rotateY<=-1&&this.rotationDirection===f.Negative&&(this.rotationDirection=f.Positive);const a=.1*this.rotationDirection;if(this.rotateY+=a,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=r,this.context.lineCap="round",this.context.lineWidth=2,n&&typeof n=="function")n.call(this,this.context);else switch(this.shape){case g.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case g.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case g.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class U{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenInitTime=Date.now(),this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=l(this.x,this.w+this.x),n=l(this.y,this.h+this.y);return new z(this.context,this.getOptions,r,n)},this.animate=()=>{const{canvas:r,context:n,particlesGenerated:a,lastNumberOfPieces:s}=this,{run:c,recycle:d,numberOfPieces:h,debug:A,tweenFunction:Q,tweenDuration:y}=this.getOptions();if(!c)return!1;const k=this.particles.length,m=d?k:a,S=Date.now();if(m<h){s!==h&&(this.tweenInitTime=S,this.lastNumberOfPieces=h);const{tweenInitTime:p}=this,v=S-p>y?y:Math.max(0,S-p),W=Q(v,m,h,y),q=Math.round(W-m);for(let R=0;R<q;R++)this.particles.push(this.getParticle());this.particlesGenerated+=q}return A&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText(`Particles: ${k}`,r.width-10,r.height-20)),this.particles.forEach((p,v)=>{p.update(),(p.y>r.height||p.y<-100||p.x>r.width+100||p.x<-100)&&(d&&m<=h?this.particles[v]=this.getParticle():this.removeParticleAt(v))}),k>0||m<h},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const O={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:V.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class H{constructor(e,t){this.lastFrameTime=Date.now(),this.setOptionsWithDefaults=r=>{const n={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...n,...O,...r},Object.assign(this,r.confettiSource)},this.update=()=>{const{options:{run:r,onConfettiComplete:n,frameRate:a},canvas:s,context:c}=this;if(a){const d=Date.now(),h=d-this.lastFrameTime;if(h<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=d-h%a}r&&(c.fillStyle="white",c.clearRect(0,0,s.width,s.height)),this.generator.animate()?this.rafId=requestAnimationFrame(this.update):(n&&typeof n=="function"&&this.generator.particlesGenerated>0&&n.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new U(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var r,n;const t=(r=this._options)==null?void 0:r.run,i=(n=this._options)==null?void 0:n.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}}const K=u.createRef();class P extends u.Component{constructor(e){super(e),this.canvas=u.createRef(),this.canvas=e.canvasRef||K}componentDidMount(){if(this.canvas.current){const e=M(this.props)[0];this.confetti=new H(this.canvas.current,e)}}componentDidUpdate(){const e=M(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=M(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return b.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}P.defaultProps={...O};P.displayName="ReactConfetti";function M(o){const e={},t={},i={},r=[...Object.keys(O),"confettiSource","drawShape","onConfettiComplete","frameRate"],n=["canvasRef"];for(const a in o){const s=o[a];r.includes(a)?e[a]=s:n.includes(a)?n[a]=s:i[a]=s}return[e,i,t]}const L=u.forwardRef((o,e)=>b.jsx(P,{canvasRef:e,...o})),j=({winner:o,width:e,height:t,raceData:i,router:r,rocketNameExploded:n})=>{var a,s,c;return u.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-75 z-20 animate-fade-in"},u.createElement(L,{width:e,height:t}),u.createElement("div",{className:"flex flex-col items-center mb-6"},u.createElement("div",{className:"relative"},u.createElement("div",{className:"text-neon-yellow text-9xl animate-pulse-neon mb-4","data-testid":"trophy"},"🏆")),u.createElement("h1",{className:"text-5xl font-pixel text-neon-green mb-4 animate-crt-flicker"},o," a triomphé !")),n&&u.createElement("div",{className:"bg-black bg-opacity-70 px-6 py-4 rounded-md shadow-lg text-neon-red font-pixel text-center animate-crt-flicker mb-6"},"💥 La fusée ",n," a explosé !"),u.createElement("div",{className:"relative mb-6"},u.createElement(Y,{src:o===((a=i==null?void 0:i.rocket1)==null?void 0:a.name)?(s=i==null?void 0:i.rocket1)==null?void 0:s.image:(c=i==null?void 0:i.rocket2)==null?void 0:c.image,alt:`Vaisseau gagnant - ${o}`,width:200,height:200,className:"object-cover rounded-md neon-rocket-yellow shadow-lg transition-transform duration-500 hover:scale-110"}),u.createElement("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-neon-yellow px-4 py-1 rounded-md shadow-md text-neon-yellow font-pixel animate-bounce"},"Champion 🚀")),u.createElement("div",{className:"flex space-x-6"},u.createElement("button",{onClick:()=>r.push("/"),className:"px-10 py-4 font-pixel text-2xl bg-neon-blue text-white rounded-md shadow-neon transition-transform transform hover:scale-110 active:scale-90"},"Accueil"),u.createElement("button",{onClick:()=>r.push("/selection"),className:"px-10 py-4 font-pixel text-2xl bg-neon-green text-white rounded-md shadow-neon transition-transform transform hover:scale-110 active:scale-90"},"Rejouer !"),u.createElement("button",{onClick:()=>r.push("/historique"),className:"px-10 py-4 font-pixel text-2xl bg-neon-yellow text-white rounded-md shadow-neon transition-transform transform hover:scale-110 active:scale-90"},"🏆")))};j.__docgenInfo={description:"",methods:[],displayName:"WinnerMessage",props:{winner:{required:!0,tsType:{name:"string"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},raceData:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  id: string;
  rocket1: RocketInteraction;
  rocket2: RocketInteraction;
  winner?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"rocket1",value:{name:"intersection",raw:"Rocket & RocketProgress",elements:[{name:"signature",type:"object",raw:`{
  __typename?: 'Rocket';
  description: Scalars['String']['output'];
  id: Scalars['ID']['output'];
  image: Scalars['String']['output'];
  name: Scalars['String']['output'];
}`,signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Rocket'",required:!1}},{key:"description",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}},{key:"id",value:{name:"signature['output']",raw:"Scalars['ID']['output']",required:!0}},{key:"image",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}},{key:"name",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}}]}},{name:"signature",type:"object",raw:`{
  __typename?: 'RocketProgress';
  exploded: Scalars['Boolean']['output'];
  id: Scalars['ID']['output'];
  progress: Scalars['Int']['output'];
}`,signature:{properties:[{key:"__typename",value:{name:"literal",value:"'RocketProgress'",required:!1}},{key:"exploded",value:{name:"signature['output']",raw:"Scalars['Boolean']['output']",required:!0}},{key:"id",value:{name:"signature['output']",raw:"Scalars['ID']['output']",required:!0}},{key:"progress",value:{name:"signature['output']",raw:"Scalars['Int']['output']",required:!0}}]}}],required:!0}},{key:"rocket2",value:{name:"intersection",raw:"Rocket & RocketProgress",elements:[{name:"signature",type:"object",raw:`{
  __typename?: 'Rocket';
  description: Scalars['String']['output'];
  id: Scalars['ID']['output'];
  image: Scalars['String']['output'];
  name: Scalars['String']['output'];
}`,signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Rocket'",required:!1}},{key:"description",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}},{key:"id",value:{name:"signature['output']",raw:"Scalars['ID']['output']",required:!0}},{key:"image",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}},{key:"name",value:{name:"signature['output']",raw:"Scalars['String']['output']",required:!0}}]}},{name:"signature",type:"object",raw:`{
  __typename?: 'RocketProgress';
  exploded: Scalars['Boolean']['output'];
  id: Scalars['ID']['output'];
  progress: Scalars['Int']['output'];
}`,signature:{properties:[{key:"__typename",value:{name:"literal",value:"'RocketProgress'",required:!1}},{key:"exploded",value:{name:"signature['output']",raw:"Scalars['Boolean']['output']",required:!0}},{key:"id",value:{name:"signature['output']",raw:"Scalars['ID']['output']",required:!0}},{key:"progress",value:{name:"signature['output']",raw:"Scalars['Int']['output']",required:!0}}]}}],required:!0}},{key:"winner",value:{name:"string",required:!1}}]}},description:""},router:{required:!0,tsType:{name:"AppRouterInstance"},description:""},rocketNameExploded:{required:!1,tsType:{name:"string"},description:""}}};const J={push:()=>{},replace:()=>{},back:()=>{},prefetch:()=>Promise.resolve(),forward:()=>{},refresh:()=>{}},Z={id:"1",rocket1:{id:"1",name:"Falcon 9",image:`${C}/rocket.png`,description:"Reusable rocket by SpaceX."},rocket2:{id:"2",name:"Starship",image:`${C}/rocket.png`,description:"SpaceX deep space rocket."}},oe={title:"Components/WinnerMessage",component:j,args:{winner:"Falcon 9",width:800,height:600,raceData:Z,router:J,rocketNameExploded:void 0}},x={},w={args:{rocketNameExploded:"Starship"}};var N,_,F;x.parameters={...x.parameters,docs:{...(N=x.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(F=(_=x.parameters)==null?void 0:_.docs)==null?void 0:F.source}}};var D,T,B;w.parameters={...w.parameters,docs:{...(D=w.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    rocketNameExploded: 'Starship'
  }
}`,...(B=(T=w.parameters)==null?void 0:T.docs)==null?void 0:B.source}}};const ce=["Default","WithExplosion"];export{x as Default,w as WithExplosion,ce as __namedExportsOrder,oe as default};
